{"version":3,"sources":["assets\\Shader\\LabelShader1.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property, menu, requireComponent, disallowMultiple, executeInEditMode} = cc._decorator;\r\n\r\nconst Gradient = cc.Enum({\r\n    None: 0,\r\n    OneColor: 1,\r\n    TwoColor: 2,\r\n    TriColor: 3,\r\n})\r\nconst GlowLevel = cc.Enum({\r\n    None: 0,\r\n    Lowp: 1,\r\n    Mediump: 2,\r\n    Highp: 3,\r\n})\r\n\r\n/**\r\n * 字体效果\r\n * - 阴影\r\n * - 描边\r\n * - 描边阴影\r\n * - 颜色渐变\r\n * - 扫光效果\r\n * - 外发光\r\n */\r\n@ccclass\r\n@menu('UI/LabelShader1')\r\n@requireComponent(cc.Label)\r\n@disallowMultiple()\r\n@executeInEditMode()\r\nexport default class LabelShader1 extends cc.Component {\r\n\r\n    //-----------------------阴影\r\n    @property({\r\n        tooltip:'是否使用阴影',\r\n    })\r\n    shadowUse:boolean = false;\r\n    @property({\r\n        tooltip:'阴影偏移（像素）',\r\n        visible:function(){\r\n            return this.shadowUse;\r\n        }\r\n    })\r\n    shadowOffset:cc.Vec2 = cc.v2(1, 1);\r\n    @property({\r\n        tooltip:'阴影颜色',\r\n        visible:function(){\r\n            return this.shadowUse;\r\n        }\r\n    })\r\n    shadowColor:cc.Color = cc.color(0, 0, 0, 150);\r\n\r\n    //-----------------------描边\r\n    @property({\r\n        tooltip:'是否使用描边',\r\n    })\r\n    outlineUse:boolean = false;\r\n    @property({\r\n        tooltip:'描边宽度（像素）',\r\n        min: 1,\r\n        visible:function(){\r\n            return this.outlineUse;\r\n        }\r\n    })\r\n    outlineWidth:number = 1;\r\n    @property({\r\n        tooltip:'描边颜色',\r\n        visible:function(){\r\n            return this.outlineUse;\r\n        }\r\n    })\r\n    outlineColor:cc.Color = cc.color(0, 0, 0, 255);\r\n\r\n    //-----------------------描边阴影\r\n    @property({\r\n        tooltip:'是否使用描边阴影',\r\n        visible:function(){\r\n            return this.outlineUse;\r\n        }\r\n    })\r\n    olShadowUse:boolean = false;\r\n    @property({\r\n        tooltip:'描边阴影偏移（像素）',\r\n        visible:function(){\r\n            return this.outlineUse && this.olShadowUse;\r\n        }\r\n    })\r\n    olShadowOffset:cc.Vec2 = cc.v2(1, 1);\r\n    @property({\r\n        tooltip:'描边阴影颜色',\r\n        visible:function(){\r\n            return this.outlineUse && this.olShadowUse;\r\n        }\r\n    })\r\n    olShadowColor:cc.Color = cc.color(0, 0, 0, 150);\r\n\r\n    //-----------------------扫光\r\n    @property({\r\n        tooltip:'是否使用扫光动效',\r\n    })\r\n    flowLightUse:boolean = false;\r\n    @property({\r\n        tooltip:'扫光动效速度（像素）',\r\n        visible:function(){\r\n            return this.flowLightUse;\r\n        }\r\n    })\r\n    flSpeed:number = 1;\r\n    @property({\r\n        tooltip:'扫光动效旋转角度',\r\n        visible:function(){\r\n            return this.flowLightUse;\r\n        }\r\n    })\r\n    flRot:number = 0;\r\n    @property({\r\n        tooltip:'扫光动效宽度（像素）',\r\n        min: 1,\r\n        visible:function(){\r\n            return this.flowLightUse;\r\n        }\r\n    })\r\n    flWidth:number = 15;\r\n    @property({\r\n        tooltip:'扫光效果颜色',\r\n        visible:function(){\r\n            return this.flowLightUse;\r\n        }\r\n    })\r\n    flColor:cc.Color = cc.color(255, 255, 255, 255);\r\n\r\n    //-----------------------文字颜色、渐变\r\n    @property({\r\n        tooltip:'文字颜色\\nNone：单色，使用节点color\\nOneColor：单色，使用color1\\nTwoColor：渐变色-双色\\nTriColor：渐变色-三色',\r\n        type:cc.Enum(Gradient),\r\n    })\r\n    gradient = Gradient.None;\r\n    @property({\r\n        visible:function(){\r\n            return this.gradient > Gradient.None;\r\n        }\r\n    })\r\n    color1:cc.Color = cc.color(255, 0, 0, 255);\r\n    @property({\r\n        visible:function(){\r\n            return this.gradient > Gradient.OneColor;\r\n        }\r\n    })\r\n    color2:cc.Color = cc.color(0, 255, 0, 255);\r\n    @property({\r\n        visible:function(){\r\n            return this.gradient > Gradient.TwoColor;\r\n        }\r\n    })\r\n    color3:cc.Color = cc.color(0, 0, 255, 255);\r\n\r\n    //-----------------------外发光\r\n    @property({\r\n        tooltip:'外发光，外发光较耗性能\\nNone：不使用\\nLowp：低精度（建议）\\nMediump: 中等精度\\nHighp：高精度',\r\n        type:cc.Enum(GlowLevel),\r\n    })\r\n    glow = GlowLevel.None;\r\n    @property({\r\n        tooltip:'外发光宽度（像素）',\r\n        min: 1,\r\n        visible:function(){\r\n            return this.glow > GlowLevel.None;\r\n        }\r\n    })\r\n    glowWidth:number = 10;\r\n    @property({\r\n        tooltip:'外发光颜色深度',\r\n        min: 1,\r\n        max: 32,\r\n        visible:function(){\r\n            return this.glow > GlowLevel.None;\r\n        }\r\n    })\r\n    glowDepth:number = 2;\r\n    @property({\r\n        tooltip:'外发光颜色',\r\n        visible:function(){\r\n            return this.glow > GlowLevel.None;\r\n        }\r\n    })\r\n    glowColor:cc.Color = cc.color(255, 255, 255, 255);\r\n\r\n    private _mtl:cc.Material = null;\r\n    private _time:number = 0;\r\n\r\n    onLoad() {\r\n        if(CC_EDITOR) {\r\n            let url = 'Shader/LabelShader1';\r\n            cc.resources.load(url, cc.Material, (err, mat:cc.Material)=>{\r\n                if(!err && mat) {\r\n                    mat.define('USE_TEXTURE', true, 0);\r\n                    this.node.getComponent(cc.Label).setMaterial(0, mat);\r\n                    this.initMat();\r\n                }\r\n            })\r\n        }\r\n        else {\r\n            this.initMat();\r\n        }\r\n    }\r\n\r\n    initMat() {\r\n        this._mtl = this.node.getComponent(cc.Label).getMaterial(0);\r\n        this._mtl.define('USE_TEXTURE', true, 0);\r\n        this.node.getComponent(cc.Label).setMaterial(0, this._mtl);\r\n        this.use();\r\n    }\r\n\r\n    use() {\r\n        if(!this._mtl) return;\r\n        this._mtl.setProperty('i_resolution', [this.node.width, this.node.height]);\r\n        this._mtl.setProperty('i_alpha', this.node.opacity/255);\r\n        this._mtl.setProperty('i_shadow', this.shadowUse ? 1 : 0);\r\n        this._mtl.setProperty('i_shadowOffset', [-this.shadowOffset.x/this.node.width, -this.shadowOffset.y/this.node.height]);\r\n        this._mtl.setProperty('i_shadowColor', [this.shadowColor.r/255, this.shadowColor.g/255, this.shadowColor.b/255, this.shadowColor.a/255]);\r\n        this._mtl.setProperty('i_outline', this.outlineUse ? 1 : 0);\r\n        this._mtl.setProperty('i_outlineWidth', [this.outlineWidth/this.node.width, this.outlineWidth/this.node.height]);\r\n        this._mtl.setProperty('i_outlineColor', [this.outlineColor.r/255, this.outlineColor.g/255, this.outlineColor.b/255, this.outlineColor.a/255]);\r\n        this._mtl.setProperty('i_olShadow', this.olShadowUse ? 1 : 0);\r\n        this._mtl.setProperty('i_olShadowOffset', [-this.olShadowOffset.x/this.node.width, -this.olShadowOffset.y/this.node.height]);\r\n        this._mtl.setProperty('i_olShadowColor', [this.olShadowColor.r/255, this.olShadowColor.g/255, this.olShadowColor.b/255, this.olShadowColor.a/255]);\r\n        this._mtl.setProperty('i_gradient', this.gradient-1);\r\n        switch(this.gradient) {\r\n            case Gradient.None:\r\n                this._mtl.setProperty('i_color1', [this.node.color.r/255, this.node.color.g/255, this.node.color.b/255, this.node.color.a/255]);\r\n                break;\r\n            case Gradient.OneColor:\r\n            case Gradient.TwoColor:\r\n            case Gradient.TriColor:\r\n                this._mtl.setProperty('i_color1', [this.node.color.r/255, this.node.color.g/255, this.node.color.b/255, this.node.color.a/255]);\r\n                this._mtl.setProperty('i_color1', [this.color1.r/255, this.color1.g/255, this.color1.b/255, this.color1.a/255]);\r\n                this._mtl.setProperty('i_color2', [this.color2.r/255, this.color2.g/255, this.color2.b/255, this.color2.a/255]);\r\n                this._mtl.setProperty('i_color3', [this.color3.r/255, this.color3.g/255, this.color3.b/255, this.color3.a/255]);\r\n                break;\r\n        }\r\n        this._mtl.setProperty('i_flowLight', this.flowLightUse ? 1 : 0);\r\n        this._mtl.setProperty('i_flTime', this.flSpeed*this._time*60/this.node.width);\r\n        this._mtl.setProperty('i_flRot', Math.atan(Math.tan(Math.PI*this.flRot/180.)*this.node.height/this.node.width)*180./Math.PI);\r\n        this._mtl.setProperty('i_flWidth', this.flWidth/this.node.width);\r\n        this._mtl.setProperty('i_flColor', [this.flColor.r/255, this.flColor.g/255, this.flColor.b/255, this.flColor.a/255]);\r\n        this._mtl.setProperty('i_glow', this.glow);\r\n        this._mtl.setProperty('i_glowWidth', [this.glowWidth/this.node.width, this.glowWidth/this.node.height]);\r\n        this._mtl.setProperty('i_glowDepth', this.glowDepth);\r\n        this._mtl.setProperty('i_glowColor', [this.glowColor.r/255, this.glowColor.g/255, this.glowColor.b/255, this.glowColor.a/255]);\r\n    }\r\n\r\n    update(dt:number) {\r\n        this._time += dt;\r\n        this.use();\r\n    }\r\n}"]}